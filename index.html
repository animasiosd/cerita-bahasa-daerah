<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="google-site-verification" content="S545LWpJJUmiJMSHVd_HRpn8JEMyONvPPVRMTV-9FzQ" />

  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
   new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
   })(window,document,'script','dataLayer','GTM-MP4G2NCV');</script>

  <title>Homepage | Cerita Bahasa Daerah</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" href="assets/favicon.png" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0d6efd">

  <style>
    #page-loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #ffffff;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 9999;
    }
    #loader-text {
      margin-top: 20px;
      font-size: 1.2em;
      color: #555;
    }
    .spinner-border {
      width: 3rem;
      height: 3rem;
    }
    #mainContent, #loginContainer {
      padding: 40px;
      text-align: center;
    }
    #loginContainer {
      justify-content: center;
      align-items: center;
    }
    #privacyPolicy {
      margin-top: 20px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MP4G2NCV"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

  <main class="container my-4">
    <section class="text-center py-4">
      <div class="d-flex justify-content-center align-items-center">
        <img src="assets/favicon-192.png" alt="Logo Cerita Bahasa Daerah" style="height: 64px; margin-right: 15px;">
        <h1 class="display-5 fw-bold mb-0">Selamat Datang di Cerita Bahasa Daerah</h1>
      </div>
      <p class="text-muted col-lg-8 mx-auto mt-3">
        Di tengah zaman yang terus berubah, banyak bahasa daerah di Indonesia terancam punah. Misi kami adalah mendokumentasikan dan melestarikannya melalui cerita animasi yang menarik, sebagai jawaban atas hilangnya mata pelajaran budaya lokal di sekolah.
      </p>

      <!-- Tambahan teks instruksi login -->
      <p class="mb-4">Silakan masuk untuk melanjutkan.</p>

      <!-- Tombol login Google dari login.html -->
      <button id="loginBtn" class="btn btn-primary btn-lg">
        <img src="assets/google-icon.svg" alt="Google" width="22" class="me-2">
        Login dengan Google
      </button>

      <!-- Teks kebijakan privasi di bawah tombol login -->
      <div id="privacyPolicy">
        Dengan login, Anda menyetujui <a href="privacy_policy">Kebijakan Privasi</a> dan <a href="terms_of_service">Syarat & Ketentuan</a>.
      </div>
    </section>

    <hr class="my-4">

    <section class="row text-center" id="features">
      <h2 class="mb-4">Apa yang Anda Dapatkan?</h2>
      <div class="col-md-4 feature-item">
        <h4>
          <img src="assets/variety_stories.png" alt="Koleksi Cerita" class="feature-icon">
          Koleksi Cerita Beragam
        </h4>
        <p>Dengarkan cerita dari berbagai suku dan daerah, langsung dalam bahasa aslinya, lengkap dengan visual yang menarik.</p>
      </div>
      <div class="col-md-4 feature-item">
        <h4>
          <img src="assets/community_interaction.png" alt="Interaksi Komunitas" class="feature-icon">
          Interaksi Komunitas
        </h4>
        <p>Bergabunglah dalam diskusi, tinggalkan komentar, dan bagikan cerita favorit Anda dengan teman dan keluarga.</p>
      </div>
      <div class="col-md-4 feature-item">
        <h4>
          <img src="assets/language_preservation.png" alt="Mendukung Pelestarian" class="feature-icon">
          Mendukung Pelestarian
        </h4>
        <p>Setiap kali Anda mendengarkan dan melihat video, Anda turut serta dalam upaya penting untuk menjaga agar bahasa daerah kita tetap hidup.</p>
      </div>
    </section>

    <hr class="my-4">

    <section class="text-center" id="data-transparency">
      <h2 class="mb-4">Tujuan Kami & Permintaan Data</h2>
      <p class="col-lg-8 mx-auto">
        Tujuan utama kami memerlukan login adalah untuk riset pelestarian bahasa. Dengan izin Anda, kami mengumpulkan data demografi anonim (seperti <strong>rentang usia</strong>, <strong>gender</strong>, dan <strong>lokasi umum</strong>) untuk memetakan persebaran dan vitalitas bahasa daerah di Indonesia. Data ini, yang kami proses hanya dalam bentuk angka, membantu kami memahami <strong>apakah sebuah bahasa masih digunakan oleh generasi muda</strong> dan menyajikan konten yang lebih relevan di masa depan.
        <br><br>
        <strong>Kami tidak memproses, menyebarkan, atau memperjualbelikan informasi pribadi Anda</strong>.
      </p>
    </section>
  </main>

  <footer class="text-center text-muted py-4 mt-4 bg-light">
    <p>&copy; 2025 Cerita Bahasa Daerah</p>
    <p>
      <a href="privacy_policy">Kebijakan Privasi</a> | <a href="terms_of_service">Syarat & Ketentuan</a>
    </p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <script type="module">
    // Impor fungsi utama yang kita butuhkan untuk halaman ini
  import { managePageAccess, initializeLoginPage } from './js/ui/page_auth.js';

    // Impor skrip lain yang dibutuhkan agar fungsinya tersedia
    import './js/events.js';
    import './js/load_data/user_data_service.js';
    import './js/load_data/api_service.js';
    import './js/send_data/analytics_service.js';
    import './js/ui/common.js'; // Kita tetap impor agar bisa diakses oleh modul lain jika perlu

    // Pemicunya ada di sini
    document.addEventListener('DOMContentLoaded', () => {
    // 1. BUAT TOMBOL BERFUNGSI (Jalankan segera)
    initializeLoginPage();

    // 2. PERIKSA STATUS LOGIN (Boleh berjalan di latar belakang)
    managePageAccess();
  });
  </script>

</body>
</html>
